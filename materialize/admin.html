<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>活动编辑</title>
    <!--Import Google Icon Font-->
    <!--<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="dist/css/wangEditor.min.css">
    <link rel="stylesheet" href="css/jquery.datetimepicker.css">
    <link rel="stylesheet" href="css/admin.css">

</head>
<body>
<div class="row main" id="md_price">
    <div class="col s12"><h1 class="title">增加活动管理 <span>文档/视频：<a href="">查看/编辑</a></span> <span>状态：编辑中</span>  <span>预览： <a href="">pc</a>&nbsp;&nbsp;<a href="">wap</a></span></h1></div>
    <div class="col s6 left">
        <form action="" class="col s12">
            <!--分类 -->
            <div class="input-field col s12">
                <p class="label">分类  标签</p>
                <ul class="tabs">
                    <li class="tab col s1" v-for="(item,index) in cat"  v-bind:data-id="item.id">
                        <a v-on:click="choose_cat(index)" v-if="item.id==current_cat" class="active">{{item.name}}</a>
                        <a v-on:click="choose_cat(index)"  v-else>{{item.name}}</a>
                    </li>
                </ul>
                <div class="tags">
                    <span v-for="(item,index) in tag">
                        <input type="checkbox" v-model="current_tag"  v-bind:id="item.tag__id" v-bind:value="item.tag__id" v-bind:checked="item.isture" /><label v-bind:for="item.tag__id">{{item.tag__name}}</label>
                    </span>
                </div>
            </div>

            <div class="input-field col s6" style="margin-top: 20px">
                <input  id="name" type="text"  class="validate">
                <label for="name">标题</label>
            </div>
            <div class="input-field col s6" style="margin-top: 20px">
                <input  id="scale" type="text"  class="validate">
                <label for="scale">会议规模</label>
            </div>
            <div class="input-field col s6">
                <input placeholder="" id="start_time" name="start_time" type="text" class="validate">
                <label for="start_time">开始时间</label><i class="material-icons time">schedule</i>
            </div>
            <div class="input-field col s6">
                <input placeholder="" id="end_time" name="end_time" type="text" class="validate">
                <label for="end_time">结束时间</label><i class="material-icons time">schedule</i>
            </div>
<!--票价 -->
                <div class="input-field col s3">
                    <select>
                        <option value="1">人民币</option>
                        <option value="2">美元</option>
                        <option value="3">欧元</option>
                    </select>
                </div>
                <div class="input-field col s3">
                    <select>
                        <option value="1">标准</option>
                        <option value="2">收费</option>
                        <option value="3">免费</option>
                    </select>
                </div>
                <div class="input-field col s4">
                    <input placeholder="多个价格请用'/'隔开" id="price" name="price" type="text" class="validate" v-model="new_price">
                </div>
                <div class="input-field col s2" style="text-align: right">
                    <a class="waves-effect waves-light btn"  v-on:click="addNewTodo">添加价格</a>
                </div>
            <div class="input-field col s12">
                <table class="centered price_list" id="ticket">
                    <thead><tr v-show="todos.length>0">
                        <td>价格</td><td>价格类型</td><td>报名开始时间</td><td>报名截止时间</td><td>价格说明</td><td>最小可购数量</td><td>最大可购数量</td><td>是否有效</td><td>操作</td>
                    </tr></thead>
                    <tbody>
                    <tr is="todo-item" v-for="(todo,index) in todos"  v-bind:title="todo" v-bind:index="index"
                        v-on:remove="todos.splice(index, 1)" v-on:change="change(index,'ticket')" v-on:done="done(index,'ticket')" v-on:start="change_time(index,'start_time')" v-on:end="change_time(index,'end_time')">
                    </tr>
                    </tbody>
                </table>
            </div>
<!--城市-->
            <div class="input-field col s6" style="margin: 20px 0">
                <select id="province">
                    <option value="" disabled selected>选择省份</option>
                    <option v-for="item in province" v-bind:value="item.id" v-bind:selected="current_province==item.id" > {{item.name}}</option>
                </select>
            </div>
            <div class="input-field col s6" style="margin: 20px 0">
                <select>
                    <option value="" disabled selected>选择城市</option>
                    <option v-for="item in city" v-bind:value="item.id" data="'" v-bind:selected="current_city==item.id">{{item.name}}</option>
                </select>
            </div>
<!--场馆-->
            <div class="input-field col s5">
                <input  id="listvenue_name" name="listvenue_name" type="text" class="validate" v-model="new_venue">
                <label for="listvenue_name">场馆名称</label>
            </div>
            <div class="input-field col s5">
                <input  id="listvenue_addr" name="listvenue_addr" type="text" class="validate" v-model="new_venue_addr">
                <label for="listvenue_name">场馆地址</label>
            </div>
            <div class="input-field col s2" style="text-align: right">
                <a class="waves-effect waves-light btn" v-on:click="addVenue">添加场馆</a>
            </div>
            <div class="input-field col s12">
                <table  class="centered price_list" id="venue">
                    <thead><tr  v-show="venue.length>0">
                        <td>场馆名称</td><td>场馆地址</td><td>城市</td><td>操作</td>
                    </tr></thead>
                    <tbody>
                    <tr is="venue-item" v-for="(todo,index) in venue"  v-bind:title="todo" v-bind:index="index" v-on:remove="venue.splice(index, 1)"
                        v-on:change="change(index,'venue')" v-on:done="done(index,'venue')" >
                    </tr>
                    </tbody>
                </table>
            </div>
<!--主办方-->
            <div class="input-field col s10" style="margin-top: 40px">
                <input placeholder="多个主办方用'/'隔开" id="sponsor_name" name="listvenue_name" type="text" class="validate" v-model="new_sponsor">
                <label for="sponsor_name">主办方名称</label>
            </div>
            <div class="input-field col s2" style="text-align: right;margin-top: 40px">
                <a class="waves-effect waves-light btn" v-on:click="addSponsor">添加主办方</a>
            </div>
            <div class="input-field col s12">
                <table  class="centered price_list" id="sponsor">
                    <thead><tr  v-show="sponsor.length>0">
                        <td>主办方名称</td><td>是否认证</td><td>活动数</td><td>操作</td>
                    </tr></thead>
                    <tbody>
                    <tr is="sponsor-item" v-for="(todo,index) in sponsor"  v-bind:title="todo" v-bind:index="index" v-on:remove="sponsor.splice(index, 1)" >
                    </tr>
                    </tbody>
                </table>
            </div>

        </form>
    </div>
    <div class="col s6 right" >
        <!--会议简介-->
        <div class="input-field col s12">
            <textarea  id="intro" class="materialize-textarea" v-model="event.intro"></textarea>
            <label for="intro">会议简介</label>
        </div>
        <!--信息来源-->
        <div class="input-field col s3">
            <input placeholder="来源链接" id="message"  type="text" class="validate" v-model="new_source.url">
            <label for="message">信息来源</label>
        </div>
        <div class="input-field col s3" >
            <input placeholder="联系人"  type="text" class="validate" v-model="new_source.name">
        </div>
        <div class="input-field col s3">
            <input placeholder="电话号码"  type="text" class="validate" v-model="new_source.phone">
        </div>
        <div class="input-field col s3">
            <input placeholder="邮箱"  type="email" class="validate" v-model="new_source.mail">
        </div>
        <div class="input-field col s9">
            <textarea placeholder="来源整体内容" class="materialize-textarea" v-model="new_source.mark"></textarea>
        </div>
        <div class="input-field col s3" style="text-align: right;margin-top: 50px">
            <a class="waves-effect waves-light btn" v-on:click="addSource">添加来源信息</a>
        </div>
        <div class="input-field col s12">
            <table  class="centered price_list" id="source">
                <thead><tr v-show="source.length>0">
                    <td>联系人</td><td>电话号码</td><td>邮箱</td><td>来源链接</td><td>来源整体内容</td><td>状态</td><td>操作</td>
                </tr></thead>
                <tbody>
                <tr is="source-item" v-for="(todo,index) in source"  v-bind:title="todo" v-bind:index="index" v-on:remove="source.splice(index, 1)"
                    v-on:change="change(index,'source')" v-on:done="done(index,'source')">

                </tr>
                </tbody>
            </table>
        </div>
        <!--上传banner图-->
        <div class="input-field col s12"><label style="position: static;">会议主图</label></div>
        <div class="input-field col s12">
            <div class="file-field col">
                <div class="btn">
                    <span>上传图片</span>
                    <input id="banner" type="file"  @change="onFileChange">
                </div>
                <a class="waves-effect waves-light btn" style="float: left;margin-left: 20px">从图片库搜索图片</a>
            </div>
            <div  v-show="image.length>0" class="col s12 file" >
                <div v-for="(item,index) in image" class="img center col" style="margin-bottom: 10px">
                    <img height="100" :src="item"><br>
                    <a class="waves-effect waves-teal "  v-on:click="image.splice(index, 1)">Remove image</a>
                </div>
            </div>
        </div>
        <!--精彩回顾-->
        <div class="input-field col s12" style="margin-top: 30px"><label style="position: static;">精彩回顾</label></div>
        <div class="input-field col s12">
            <div class="file-field col">
                <div class="btn">
                    <span>上传图片</span>
                    <input id="review" type="file"  @change="onFileChange">
                </div>
                <a class="waves-effect waves-light btn" style="float: left;margin-left: 20px">从资料库查看</a>
            </div>
            <div v-show="review_img.length>0" class="col s12 file" >
                <div v-for="(item,index) in review_img" class="img center col" style="margin-bottom: 10px">
                    <img height="100" :src="item"><br>
                    <a class="waves-effect waves-teal "  v-on:click="review_img.splice(index, 1)">Remove image</a>
                </div>
            </div>
        </div>
        <div class="input-field col s9" style="margin-top: 40px">
            <input id="previous" type="text" class="validate">
            <label for="previous">关联往届会议</label>
        </div>
        <div class="input-field col s3" style="text-align: right;margin-top: 40px">
            <a class="waves-effect waves-light btn" >从活动库中查看</a>
        </div>
    </div>
    <div class="col s12 bottom">
        <div class="input-field col s12">
            <label style="position:static;">会议编辑</label>
            <div style="margin: 15px 0" class="event_content">
                <a  v-for="(item,index) in event_content" v-on:click="title_index=index" v-if="index==title_index" class="waves-effect waves-light btn green">{{item.name}}</a>
                <a v-for="(item,index) in event_content" v-on:click="title_index=index" v-if="index!=title_index"  class="waves-effect waves-light btn red">{{item.name}}</a>
            </div>



            <div class="event_title" v-for="(item,index) in event_content" v-show="index==title_index">
                <div class="chip" v-for="(tag,index) in item.tag">
                    {{tag.name}}
                    <i class="close material-icons">close</i>
                </div>
            </div>

            <div v-for="(item,index) in event_content" v-show="index==title_index">
                <div class="editor" v-for="(txt,index) in item.tag">
                    <textarea  v-for="(txt,index) in item.tag" v-bind:id="txt.id" style="display:none;">{{txt.txt}}</textarea>
                </div>
            </div>

        </div>
    </div>
</div>

<!--Import jQuery before materialize.js-->
<script src="http://pic.huodongjia.com/static/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="js/materialize.min.js"></script>
<script type="text/javascript" src="js/vue.js"></script>
<script src="js/jquery.datetimepicker.full.js"></script>
<script src="js/admin.js"></script>
<script src="dist/js/wangEditor.js"></script>

</body>
</html>