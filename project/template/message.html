<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/sweet-alert.min.css"/>
    <link rel="stylesheet" href="../static/css/signUp.css"/>
    <link href="../static/css/city.css" rel="stylesheet" type="text/css" />
</head>
<style>
</style>
<body>
<div class="content">
    <div class="nav">
        <div class="self_center"><span class="m_font">&#xe601;</span>个人中心</div>
        <div class="logo"><img src="../static/images/logo.png" width="100%" alt=""/></div>
    </div>
    <div class="left pc">
        <table>
            <tr class="choose">
                <td class="img"><img class="yellow" width="20" src="../static/images/icon2yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon2black.png" alt=""/></td>
                <td class="choose_td"><a href="">我的报名</a></td></tr>
            <tr>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon3yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon3black.png" alt=""/></td>
                <td class="choose_td"><a href="">我的赛事</a></td></tr>
            <tr>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon4yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon4black.png" alt=""/></td>
                <td class="choose_td"><a href="">我的联系人</a></td></tr>
            <tr>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon5yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon5black.png" alt=""/></td>
                <td class="choose_td"><a href="">修改密码</a></td></tr>
            <tr>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon6yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon6black.png" alt=""/></td>
                <td class="choose_td"><a href="">退出登录</a></td></tr>
        </table>

    </div>
    <div class="mobile">
        <table >
            <tr>
                <td class="img choose"><img class="yellow" width="20" src="../static/images/icon2yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon2black.png" alt=""/><br/>
                    <a href="">我的报名</a></td>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon3yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon3black.png" alt=""/><br/>
                    <a href="">我的赛事</a></td>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon4yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon4black.png" alt=""/><br/>
                    <a href="">我的联系人</a></td>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon5yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon5black.png" alt=""/><br/>
                    <a href="">修改密码</a></td>
                <td class="img"><img class="yellow" width="20" src="../static/images/icon6yellow.png" alt=""/>
                    <img class="black" width="20" src="../static/images/icon6black.png" alt=""/><br/>
                    <a href="">退出登录</a></td>
            </tr>
        </table>
    </div>
    <div class="right">
        <form action="" id="myform">
            <table class="change_message">
                <tr><td>姓名</td><td ><input name="name" value="aa" type="text"/></td></tr>
                <tr><td>性别</td><td >
                    <span class="my_mes">女</span>
                    <div class="select select_100">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">女</button>
                        </div>
                        <ul class="menue">
                            <li data-value="0">男</li>
                            <li data-value="1">女</li>
                        </ul>
                        <input type="hidden" value="1" name="card_type">
                    </div>
                </td></tr>
                <tr><td>国籍</td><td ><input value="中华人民共和国" name="nationality" type="text"/></td></tr>
                <tr><td>出生年月</td><td class="birth">
                    <span class="my_mes">1992年9月3日</span>
                    <div class="select select_30">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">1992</button>
                        </div>
                        <ul class="menue y_menue">
                            <li data-value="0">a</li>
                        </ul>
                        <input type="hidden" value="1992" name="year">
                    </div>
                    <div class="select select_30">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">9</button>
                        </div>
                        <ul class="menue m_menue">
                            <li data-value="0">a</li>
                        </ul>
                        <input type="hidden" value="9" name="month">
                    </div>
                    <div class="select select_30">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">3</button>
                        </div>
                        <ul class="menue d_menue">
                            <li data-value="0">a</li>
                        </ul>
                        <input type="hidden" value="3" name="day">
                    </div>
                </td></tr>
                <tr><td>证件类型</td><td >
                    <span class="my_mes">身份证</span>
                    <div class="select select_100">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">身份证</button>
                        </div>
                        <ul class="menue">
                            <li data-value="0">a</li>
                            <li data-value="1">b</li>
                            <li data-value="2">c</li>
                        </ul>
                        <input type="hidden" value="0" name="card_type">
                    </div>
                </td></tr>
                <tr><td>证件号码</td><td ><input value="500101199209033022" maxlength="18" id="id_number" name="id_number" type="text"/></td></tr>
                <tr><td>血型</td><td >
                    <span class="my_mes">A</span>
                    <div class="select select_100">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">A</button>
                        </div>
                        <ul class="menue">
                            <li data-value="0">a</li>
                            <li data-value="1">b</li>
                            <li data-value="2">c</li>
                        </ul>
                        <input type="hidden" value="0" name="blood">
                    </div>
                </td></tr>
                <tr><td>学历</td><td >
                    <span class="my_mes">MBA</span>
                    <div class="select select_100">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">MBA</button>
                        </div>
                        <ul class="menue">
                            <li data-value="0">a</li>
                            <li data-value="1">b</li>
                            <li data-value="2">c</li>
                        </ul>
                        <input type="hidden" value="0" name="eduaction">
                    </div>
                </td></tr>
                <tr><td>参赛院校</td><td >
                    <span class="my_mes">北京大学</span>
                    <div class="select select_100">
                        <div class="menue_button">
                            <span class="ang_bottom">&#xe600;</span>
                            <button type="button">北京大学</button>
                        </div>
                        <ul class="menue">
                            <li data-value="0">a</li>
                            <li data-value="1">b</li>
                            <li data-value="2">c</li>
                        </ul>
                        <input type="hidden" value="0" name="school">
                    </div>
                </td></tr>
                <tr><td>联系电话</td><td ><input name="phone" value="18723063549" id="phone" type="text"/></td></tr>
                <tr><td>电子邮箱</td><td ><input name="email" value="785423456@qq.com" id="email" type="text"/></td></tr>
                <tr><td>通讯地址</td><td >
                    <span class="my_mes">地址</span>
                    <div class="select" id="content-wrap">
                        <div id="content-left" class="demo">
                            <form action="" name="form1">
                                <div class="infolist">
                                    <div class="liststyle">
                                        <span style="display: none">通讯地址</span>
                                        <span id="Province"><font class="ang_bottom">&#xe600;</font><i>请选择省份</i>
                                            <ul><li><a href="javascript:void(0)" alt="请选择省份">请选择省份</a></li></ul>
                                            <input type="hidden" name="cho_Province" value="请选择省份">
                                        </span>
                                        <span style="display: none">通讯地址</span>
                                        <span id="City">
                                            <font class="ang_bottom">&#xe600;</font><i>请选择城市</i>
                                            <ul><li><a href="javascript:void(0)" alt="请选择城市">请选择城市</a></li></ul>
                                            <input type="hidden" name="cho_City" value="请选择城市">
                                        </span>
                                        <span style="display: none">通讯地址</span>
                                        <span id="Area">
                                            <font class="ang_bottom">&#xe600;</font><i>请选择地区</i>
                                            <ul><li><a href="javascript:void(0)" alt="请选择地区">请选择地区</a></li></ul>
                                            <input type="hidden" name="cho_Area" value="请选择地区">
                                        </span>
                                        <span style="display: none">通讯地址</span>
                                        <span id="address" style="width: 29.5%"><input type="text"/></span>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div id="content-right"></div>
                    </div>
                </td></tr>
                <tr><td>工作单位</td><td ><input value="工作单位" name="company" type="text"/></td></tr>
                <tr><td><font>参赛经历</font></td><td class="experence check"><span class="ang_bottom add_ex">&#xe602;</span>
                    <input value="第二届挑战赛" name="experence" type="text"/>
                </td></tr>
                <tr><td>紧急联系人</td><td ><input value="11" name="link_man" type="text"/></td></tr>
                <tr><td>与紧急联系人关系</td><td ><input value="22" name="relationship"  type="text"/></td></tr>
                <tr><td>紧急联系人电话</td><td ><input value="1872890383" name="link_phone" type="text"/></td></tr>
                <tr><td></td><td><button type="button" data-flag="change" class="apply change">修改资料</button></td></tr>
            </table>
        </form>
    </div>
</div>
<script src="../static/js/jquery-1.8.3.min.js"></script>
<script src="../static/js/sweet-alert.min.js"></script>
<script src="../static/js/city.min.js"></script>
<script src="../static/js/signup.js"></script>
<script>
    change_mes()
    function check(){
        $('#phone').blur(function () {
            var $this=$(this)
            var $value= $.trim($this.val())
            if(!(/^1[3-8]+\d{9}$/).test($value)){
                $this.attr('data-flag','false')
                swal('请输入正确的手机号码！')
            }else{
                $this.attr('data-flag','true')
            }
        })
        $('#email').blur(function () {
            var $this=$(this)
            var $value= $.trim($this.val())
            if(!(/\w+((-w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+/).test($value)){
                $this.attr('data-flag','false')
                swal('请输入正确的电子邮箱！')
            }else{
                $this.attr('data-flag','true')
            }
        })
        $('#id_number').blur(function(){
            var $this=$(this),isIDCard1=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;
            if(!isIDCard1.test($this.val())){
                $this.attr('data-flag','false')
                swal('请输入正确的身份证号码！')
            }else{
                $this.attr('data-flag','true')
            }
        })
    }
    function change_mes(){
        $('.change').on('click', function () {
            var $this=$(this),$state=$this.attr('data-flag')
            if($state=='change'){
                $this.text('保存资料')
                $this.attr('data-flag','save')
                $('.my_mes').hide()
                $('#myform table').removeClass('change_message')
            }else{
                check()
                $('input').each(function () {
                    var $this=$(this),$type=$this.attr('type')
                    if(!$this.val()||$this.attr('data-flag')=='false'){
                        if($type=='hidden'){
                            var $parent=$this.parent().parent().prev().text()
                            swal('请选择'+$parent)
                        }else{
                            var $parent=$this.parent().prev().text()
                            swal('请填写'+$parent)
                        }
                        return false
                    }
                })
            }
        })
    }
</script>
</body>
</html>
